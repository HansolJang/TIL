# Step7. 응용 계층
 - 응용 계층의 역할
 - 웹 서버의 구조
 - DNS의 구조
 - 메일 송수신 구조

### Application Layer
- OSI 7계층의 세션, 표현 계층을 포함한다
- 클라이언트: 서비스를 요청하는 측
- 서버: 서비스를 제공하는 측
- 클라이언트와 서버가 통신하기 위해선 응용 계층의 프로토콜을 사용해야 한다

| 프로토콜 |      내용      |
| -------- | -------------- |
|   HTTP   | 웹 사이트 접속 |
|   DNS    |  IP 이름 해석  |
|   FTP    |    파일 전송   |
|   SMTP   |    메일 송신   |
|   POP3   |    메일 수신   |

### DNS
- Name Resolution: 네트워크에서 컴퓨터나 네트워크 장비에 붙여진 이름을 기반으로 IP 주소를 알아내는 것
- URL을 IP 주소로 변환하는 시스템
- 사용자가 www.google.com 으로 연결을 요청하는 순간 DNS 서버에 IP 주소를 물어보고 응답을 받는다
- DNS 서버로부터 IP 주소를 받으면 웹 서버에 해당 웹 페이지 데이터를 요청한다
- DNS 서버가 IP 주소를 모를 경우 다른 DNS 서버에 요청한다
- DNS 서버는 전 세계에 흩어져 연계되어 작동한다

### WWW
- HTML: 웹 페이지에서 하이퍼텍스트(문자,이미지,링크)를 작성하는 마크업 언어
- URL: 문자로 된 웹 페이지 주소
- HTTP: 80포트 사용
	* HTTP/1.0: 데이터를 요청하고 응답할 때마다 연결 수립, 끊기를 반복
	* HTTP/1.1: keepalive 기능 추가(데이터 교환할 동안 연결 유지)
	* HTTP/2: 응답이 요청한 순서대로 오지 않음 -> 콘텐츠 빠르게 표시

	### SMTP
- 메일을 보내는 데에 사용하는 프로토콜
- 25번 포트 사용
- 사용자가 메일을 송신하면 25번 포트가 열려있는 메일 서버에 전송한다
- 메일 서버에서 다시 메일 박스가 있는 메일 서버로 메일을 송신한다

1. 세션 시작
2. 송신자의 메일 주소 통지
3. 목적지 메일 주소 통지
4. 메일 본문 전송 통지
5. 메일 본문 송신
6. 세션 종료 통지

### POP3
- 메일을 수신하는 데에 사용하는 프로토콜
- 110번 포트 사용
- 사용자 인증 필요

1. 세션 시작 통지
2. 수신자의 사용자 이름(id) 통지
3. 수신자의 비밀번호 통지
4. 메일 확인
5. 메일 박스에 보관된 이메일을 전송 요청
6. 세션 종료 통지

##### ping 명령
- ICMP 프로토콜에서 목적지 컴퓨터에 ICMP 패킷을 전송하고 응답이 제대로 오는지 확인하는 명령
- 목적지 컴퓨터와의 통신을 확인하려면 ping 명령 이용
- ping이 정상 = 네트워크 연결 정상
- 문제 확인에 주로 사용
```
ping 목적지 IP 주소
ping 목적지 호스트 이름
```

```
ping www.google.com
PING www.google.com (216.58.221.228): 56 data bytes
64 bytes from 216.58.221.228: icmp_seq=0 ttl=45 time=62.954 ms
64 bytes from 216.58.221.228: icmp_seq=1 ttl=45 time=64.814 ms
...
--- www.google.com ping statistics ---
18 packets transmitted, 17 packets received, 5.6% packet loss
```